<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tetrapod Project: Time Derivatives of Rotations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo1.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tetrapod Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="page_users.html">Users</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Time Derivatives of Rotations </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#rdiff_interface">Generic Interface</a><ul><li class="level2"><a href="#rdiff_interfaces_otationdiff_type">Type of a Time Derivative of a Rotation</a></li>
<li class="level2"><a href="#rdiff_interfaces_rotationdiff_constructor">Construction of  a Time Derivative of a Rotation</a></li>
<li class="level2"><a href="#rdiff_zero">Zero Time Derivatives</a></li>
<li class="level2"><a href="#rdiff_addition_and_subtraction">Addition and Subtraction</a></li>
<li class="level2"><a href="#rdiff_conversion">Conversion between Time Derivatives of Rotations</a><ul><li class="level3"><a href="#rdiff_interfaces_conversion_representations">Conversion between Representations</a></li>
<li class="level3"><a href="#rdiff_interfaces_conversion_primtype">Conversion between Primitive Data Types</a></li>
<li class="level3"><a href="#rdiff_interfaces_representations">Representations of Time Derivatives of Rotations</a></li>
</ul>
</li>
<li class="level2"><a href="#rdiff_interfaces_angularvelocity">Local Angular Velocity</a></li>
<li class="level2"><a href="#rdiff_interfaces_rotationquaterniondiff">Time Derivative of Rotation Quaternion</a></li>
<li class="level2"><a href="#rdiff_interfaces_rotationmatrixdiff">Time Derivative of Rotation Matrix</a></li>
<li class="level2"><a href="#rdiff_interfaces_eulerangles_zyx_diff">Time derivative of Euler Angles ZYX</a></li>
<li class="level2"><a href="#rdiff_interfaces_eulerangles_xyz_diff">Time Derivative of Euler Angles XYZ</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>This library defines an <a class="el" href="page_rdiff.html#rdiff_interface">interface</a> for time derivatives of rotations to enable different representations of the time derivative (angular velocity, time derivatives of Euler angles, time derivative of quaternion, etc.). The section <a class="el" href="page_rdiff.html#rdiff_interface">Interface</a> describes the functionalities, whereas the section Parameterization shows some examples.</p>
<h1><a class="anchor" id="rdiff_interface"></a>
Generic Interface</h1>
<p>The class <a class="el" href="classkindr_1_1RotationDiffBase.html" title="Interface for an angular velocity.">kindr::RotationDiffBase</a> serves as an interface for the time derivative of a rotation. All types of representations of a time derivative of a rotation, such as angular velocity and time derivatives of Euler angles, are derived from this base class.</p>
<h2><a class="anchor" id="rdiff_interfaces_otationdiff_type"></a>
Type of a Time Derivative of a Rotation</h2>
<p>The type of a rotation is defined by</p><ul>
<li>the <a class="el" href="page_rdiff.html#rdiff_interfaces_representations">kind of parameterization</a> (derivative of quaternion, rotation matrix, etc.),</li>
<li>the primitive data type of the parameters (float/double, etc.) and</li>
</ul>
<h2><a class="anchor" id="rdiff_interfaces_rotationdiff_constructor"></a>
Construction of  a Time Derivative of a Rotation</h2>
<p>The default constructor always initializes all derivatives with zero.</p>
<h2><a class="anchor" id="rdiff_zero"></a>
Zero Time Derivatives</h2>
<p>All derivatives can be set to zero by the function <a class="el" href="classkindr_1_1RotationDiffBase.html#a671d5efef5d1e39edeb89c04e370e59d">setZero()</a>.</p>
<h2><a class="anchor" id="rdiff_addition_and_subtraction"></a>
Addition and Subtraction</h2>
<p>Addition and subtraction of the time derivatives are provided by the kindr::RotationDiffBase::operator+ and kindr::RotationDiffBase::operator-, respectively.</p>
<h2><a class="anchor" id="rdiff_conversion"></a>
Conversion between Time Derivatives of Rotations</h2>
<p>There are three kinds of conversions:</p><ul>
<li>Conversion between different representations, i.e. between different parameterizations (e.g. rotation quaternion - angle-axis)</li>
<li>Conversion between different primitive data types (e.g. float - double)</li>
</ul>
<h3><a class="anchor" id="rdiff_interfaces_conversion_representations"></a>
Conversion between Representations</h3>
<p>The following methods allow to convert between different representations of a rotation: </p><div class="fragment"><div class="line">LocalAngularVelocityD angularVelocity;                              <span class="comment">// representation of the time derivative</span></div>
<div class="line">RotationQuaternionD rotationQuaternion;                         <span class="comment">// the rotation the derivative is taken</span></div>
<div class="line">RotationQuaternionDiffD rotationQuaternionDiff(rotationQuaternion, angularVelocity);        <span class="comment">// convert using the constructor</span></div>
<div class="line">rotationQuaternionDiff = angularVelocity.cast&lt;RotationQuaternionDiffD&gt;(rotationQuaternion); <span class="comment">// convert using the cast method</span></div>
</div><!-- fragment --><h3><a class="anchor" id="rdiff_interfaces_conversion_primtype"></a>
Conversion between Primitive Data Types</h3>
<p>Not yet supported.</p>
<h3><a class="anchor" id="rdiff_interfaces_representations"></a>
Representations of Time Derivatives of Rotations</h3>
<p>The following representations are currently provided by the library:</p>
<h2><a class="anchor" id="rdiff_interfaces_angularvelocity"></a>
Local Angular Velocity</h2>
<p>The class <a class="el" href="classkindr_1_1LocalAngularVelocity.html">kindr::LocalAngularVelocity</a> implements the local angular velocity in 3D-Space. The angular velocity expressed in body-fixed frame can be stated as:</p>
<p><img class="formulaInl" alt="$\boxed{{}_B\mathbf{\omega}_{I\,B} = \begin{bmatrix} \omega_x \\ \omega_y \\ \omega_z \end{bmatrix}}$" src="form_33.png"/></p>
<p>It stores the three coordinates of the angular velocity in Eigen::Matrix&lt;PrimType, 3, 1&gt;.</p>
<p>The following two typedefs are provided for convenience:</p><ul>
<li>AngularVelocityD for primitive type double</li>
<li>AngularVelocityF for primitive type float</li>
</ul>
<p>An angular velocity can be created as follows: </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> w_x = 1.0;</div>
<div class="line"><span class="keywordtype">double</span> w_y = 2.0;</div>
<div class="line"><span class="keywordtype">double</span> w_z = 3.0;</div>
<div class="line">LocalAngularVelocityD velocity1();                      <span class="comment">// creates a 3D-Velocity with all coordinates equal to zero</span></div>
<div class="line">LocalAngularVelocityD velocity2(w_x, w_y, w_z);             <span class="comment">// initializes the three coordinates</span></div>
<div class="line">LocalAngularVelocityD velocity3(Eigen::Vector3d(w_x, w_y, w_z));    <span class="comment">// creates a velocity from an Eigen vector</span></div>
</div><!-- fragment --><p>The coordinates can be obtained as follows: </p><div class="fragment"><div class="line">w_x = velocity1.x();</div>
<div class="line">w_y = velocity1.y();</div>
<div class="line">w_z = velocity1.z();</div>
<div class="line">Eigen::Vector3d vector = velocity1.toImplementation();  <span class="comment">// [w_x;w_y;w_z]</span></div>
</div><!-- fragment --><p>Operations with angular velocities: </p><div class="fragment"><div class="line">LocalAngularVelocityD velocity4 = velocity1 + velocity2;  <span class="comment">// addition</span></div>
<div class="line">LocalAngularVelocityD velocity3 -= velocity1;     <span class="comment">// subtraction</span></div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Velocity 3 is: &quot;</span> &lt;&lt; velocity3;      <span class="comment">// print velocity</span></div>
</div><!-- fragment --><h2><a class="anchor" id="rdiff_interfaces_rotationquaterniondiff"></a>
Time Derivative of Rotation Quaternion</h2>
<p>The class <a class="el" href="classkindr_1_1RotationQuaternionDiff.html" title="Time derivative of a rotation quaternion.">kindr::RotationQuaternionDiff</a> implements the time derivative of a Hamiltonian unit quaternion representation of a rotation:</p>
<p><img class="formulaInl" alt="$\boxed{\begin{aligned}\dot{P} &amp;= p_0 + p_1 i + p_2 j + p_3 k \in \mathbb{H}, \quad p_i \in \mathbb{R} \\ i^2 &amp;= j^2=k^2 = ijk = -1 \\ \end{aligned}}$" src="form_34.png"/></p>
<h2><a class="anchor" id="rdiff_interfaces_rotationmatrixdiff"></a>
Time Derivative of Rotation Matrix</h2>
<p>The class <a class="el" href="classkindr_1_1RotationMatrixDiff.html" title="Time derivative of a rotation matrix.">kindr::RotationMatrixDiff</a> implements the time derivative of a 3x3 rotation matrix representation of a rotation:</p>
<p><img class="formulaInl" alt="$\boxed{\dot{C} = \begin{bmatrix} r_{11} &amp; r_{12} &amp; r_{13} \\ r_{21} &amp; r_{22} &amp; r_{23} \\ r_{31} &amp; r_{32} &amp; r_{33} \end{bmatrix}}$" src="form_35.png"/></p>
<h2><a class="anchor" id="rdiff_interfaces_eulerangles_zyx_diff"></a>
Time derivative of Euler Angles ZYX</h2>
<p>The class <a class="el" href="classkindr_1_1EulerAnglesZyxDiff.html" title="Implementation of time derivatives of Euler angles (Z,Y&#39;,X&#39;&#39; / yaw,pitch,roll) based on Eigen::Matrix...">kindr::EulerAnglesZyxDiff</a> implements the time derivatives of the Euler angles with the Z-Y-X convention:</p>
<p><img class="formulaInl" alt="$\boxed{(\dot{z}, \dot{y}, \dot{x} ),}$" src="form_36.png"/></p>
<p>where <img class="formulaInl" alt="$\dot{z}$" src="form_37.png"/> is the time derivative of the yaw angle, <img class="formulaInl" alt="$\dot{y}$" src="form_38.png"/> is the time derivative of the pitch angle, and <img class="formulaInl" alt="$\dot{x}$" src="form_39.png"/> is the time derivative of the roll angle.</p>
<h2><a class="anchor" id="rdiff_interfaces_eulerangles_xyz_diff"></a>
Time Derivative of Euler Angles XYZ</h2>
<p>The class <a class="el" href="classkindr_1_1EulerAnglesXyzDiff.html" title="Implementation of time derivatives of Euler angles (X,Y&#39;,Z&#39;&#39; / roll,pitch,yaw) based on Eigen::Matrix...">kindr::EulerAnglesXyzDiff</a> implements the time derivatives of the Euler angles with the X-Y-Z convention:</p>
<p><img class="formulaInl" alt="$\boxed{(\dot{x}, \dot{y}, \dot{z},}$" src="form_40.png"/></p>
<p>where <img class="formulaInl" alt="$\dot{z}$" src="form_37.png"/> is the time derivative of the yaw angle, <img class="formulaInl" alt="$\dot{y}$" src="form_38.png"/> is the time derivative of the pitch angle, and <img class="formulaInl" alt="$\dot{x}$" src="form_39.png"/> is the time derivative of the roll angle.</p>
<p><br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
