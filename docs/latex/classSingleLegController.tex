\hypertarget{classSingleLegController}{}\doxysection{Single\+Leg\+Controller Class Reference}
\label{classSingleLegController}\index{SingleLegController@{SingleLegController}}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classSingleLegController_abeda11bc1ed999b16ef3b82198b51963}\label{classSingleLegController_abeda11bc1ed999b16ef3b82198b51963}} 
enum {\bfseries State} \{ {\bfseries stance} = 1, 
{\bfseries swing} = 2, 
{\bfseries uninitialized} = 3
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classSingleLegController_a8308336b28fb929f9b9b935aa8c0e710}\label{classSingleLegController_a8308336b28fb929f9b9b935aa8c0e710}} 
\mbox{\hyperlink{classSingleLegController_a8308336b28fb929f9b9b935aa8c0e710}{Single\+Leg\+Controller}} (double \+\_\+publish\+\_\+frequency)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a173d75b4ce31036a360ffe231e950314}\label{classSingleLegController_a173d75b4ce31036a360ffe231e950314}} 
virtual \mbox{\hyperlink{classSingleLegController_a173d75b4ce31036a360ffe231e950314}{$\sim$\+Single\+Leg\+Controller}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_a82cbc4d3ae647d0929994edf00bba8dc}{init\+R\+OS}} ()
\begin{DoxyCompactList}\small\item\em This function initilizes R\+OS. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_adfd046b154a005e93e5463c13f1ed5d6}{generalized\+Coordinates\+Callback}} (const std\+\_\+msgs\+::\+Float64\+Multi\+Array\+Const\+Ptr \&\+\_\+msg)
\begin{DoxyCompactList}\small\item\em The joint states for the leg is updated. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_abce5e2d8277d3de86baeedddcad95a83}\label{classSingleLegController_abce5e2d8277d3de86baeedddcad95a83}} 
void {\bfseries generalized\+Velocities\+Callback} (const std\+\_\+msgs\+::\+Float64\+Multi\+Array\+Const\+Ptr \&\+\_\+msg)
\item 
void \mbox{\hyperlink{classSingleLegController_ace838f549ab9d124d02ce4daa07bddf9}{ready\+To\+Proceed\+Callback}} (const std\+\_\+msgs\+::\+Bool \&\+\_\+msg)
\begin{DoxyCompactList}\small\item\em The ready\+\_\+to\+\_\+move parameter is changed based on the incomming message. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a4546fd0c6d563f693c8a7217ee400626}\label{classSingleLegController_a4546fd0c6d563f693c8a7217ee400626}} 
void {\bfseries update\+Stance\+Foot\+Position\+Trajectory} ()
\item 
\mbox{\Hypertarget{classSingleLegController_aab175156b57045ba31d2048dde75ea9d}\label{classSingleLegController_aab175156b57045ba31d2048dde75ea9d}} 
void {\bfseries update\+Swing\+Foot\+Position\+Trajectory} ()
\item 
\mbox{\Hypertarget{classSingleLegController_ab981f262fd6959dea6432a238136e5ec}\label{classSingleLegController_ab981f262fd6959dea6432a238136e5ec}} 
void {\bfseries update\+Joint\+References} ()
\item 
\mbox{\Hypertarget{classSingleLegController_ade8542e7455db2f329e38a6d6f0a8fca}\label{classSingleLegController_ade8542e7455db2f329e38a6d6f0a8fca}} 
void {\bfseries update\+Joint\+Torques} (const Eigen\+::\+Matrix$<$ double, 3, 1 $>$ \&\+\_\+q\+\_\+ref, const Eigen\+::\+Matrix$<$ double, 3, 1 $>$ \&\+\_\+q\+\_\+d\+\_\+ref, const Eigen\+::\+Matrix$<$ double, 3, 1 $>$ \&\+\_\+q\+\_\+dd\+\_\+ref, const Eigen\+::\+Matrix$<$ double, 3, 1 $>$ \&\+\_\+q, const Eigen\+::\+Matrix$<$ double, 3, 1 $>$ \&\+\_\+q\+\_\+d)
\item 
\mbox{\Hypertarget{classSingleLegController_a042ba4e0f5e54507e400829e9ca4165e}\label{classSingleLegController_a042ba4e0f5e54507e400829e9ca4165e}} 
void {\bfseries update\+Joint\+Torques} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a1c44eeb8fe2e7fe574b89cb8bde3fa6c}\label{classSingleLegController_a1c44eeb8fe2e7fe574b89cb8bde3fa6c}} 
void \mbox{\hyperlink{classSingleLegController_a1c44eeb8fe2e7fe574b89cb8bde3fa6c}{send\+Torque\+Command}} ()
\begin{DoxyCompactList}\small\item\em Updates the joint torque control commands based on the desired foot position. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_acd05533f4b78e71f4fed509bc5017158}\label{classSingleLegController_acd05533f4b78e71f4fed509bc5017158}} 
void {\bfseries update\+Joint\+Setpoints} ()
\item 
bool \mbox{\hyperlink{classSingleLegController_ac4e4f7ee4fa05991e424b242d149afa3}{move\+Joints\+To\+Setpoints}} ()
\begin{DoxyCompactList}\small\item\em The function tries to move the foot to the position given by the input parameters. This is done by calculating the inverse kinematics and giving the motors position references. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a4f4429024fcabfd7d70ff2450aca12ea}\label{classSingleLegController_a4f4429024fcabfd7d70ff2450aca12ea}} 
bool {\bfseries move\+Joints\+To\+Center} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a3da576fcbd14f13c3128085ebb3abc75}\label{classSingleLegController_a3da576fcbd14f13c3128085ebb3abc75}} 
bool {\bfseries update\+Simple\+Foot\+Trajectory} ()
\item 
\mbox{\Hypertarget{classSingleLegController_acbab400d2767ed683ceaf3162d52c6e8}\label{classSingleLegController_acbab400d2767ed683ceaf3162d52c6e8}} 
void {\bfseries increase\+Iterator} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a6a7c68e62020224f7c8d9b62a905d0dd}\label{classSingleLegController_a6a7c68e62020224f7c8d9b62a905d0dd}} 
void {\bfseries update\+State} ()
\item 
\mbox{\Hypertarget{classSingleLegController_ac08f817648b181ec306b48f1a06d1666}\label{classSingleLegController_ac08f817648b181ec306b48f1a06d1666}} 
void {\bfseries update\+Foot\+Reference} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a1ccb9a1cc0f8118faaef28229de335f1}\label{classSingleLegController_a1ccb9a1cc0f8118faaef28229de335f1}} 
void {\bfseries set\+Motor\+Gains} ()
\item 
\mbox{\Hypertarget{classSingleLegController_ad1dcb26e9bec916df129a00c2347b35b}\label{classSingleLegController_ad1dcb26e9bec916df129a00c2347b35b}} 
void \mbox{\hyperlink{classSingleLegController_ad1dcb26e9bec916df129a00c2347b35b}{check\+For\+New\+Messages}} ()
\begin{DoxyCompactList}\small\item\em Function used to check if any new R\+OS messages has been received. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_af65cd13c9740c47df2e430a744361f85}\label{classSingleLegController_af65cd13c9740c47df2e430a744361f85}} 
bool \mbox{\hyperlink{classSingleLegController_af65cd13c9740c47df2e430a744361f85}{ready\+To\+Proceed}} ()
\begin{DoxyCompactList}\small\item\em Check whether or not the ready to move message has been received. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a7bf974dae57964d754a2e4e1900903f1}\label{classSingleLegController_a7bf974dae57964d754a2e4e1900903f1}} 
void \mbox{\hyperlink{classSingleLegController_a7bf974dae57964d754a2e4e1900903f1}{reset\+Ready\+To\+Proceed}} ()
\begin{DoxyCompactList}\small\item\em Set the ready\+\_\+to\+\_\+move flag to false. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_ae2d6915c29fbcb40f6ec20dc91229f69}\label{classSingleLegController_ae2d6915c29fbcb40f6ec20dc91229f69}} 
bool \mbox{\hyperlink{classSingleLegController_ae2d6915c29fbcb40f6ec20dc91229f69}{is\+Target\+Position\+Reached}} ()
\begin{DoxyCompactList}\small\item\em Check if the squared error between the current joint angles and target joint angles is smaller than some threshold. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_aa7cfe14f25926f4870ea6628c3aee9f7}\label{classSingleLegController_aa7cfe14f25926f4870ea6628c3aee9f7}} 
bool {\bfseries is\+Joint\+Velocity\+Small} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a43aa22c8b27872812df94867ac23d0fe}\label{classSingleLegController_a43aa22c8b27872812df94867ac23d0fe}} 
bool {\bfseries initial\+State\+Received} ()
\item 
\mbox{\Hypertarget{classSingleLegController_ad77237a3754a03f8a3d1ffb1ee0d9806}\label{classSingleLegController_ad77237a3754a03f8a3d1ffb1ee0d9806}} 
void {\bfseries print\+Torques} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a370642148f6c440f43f0c830c385e4bc}\label{classSingleLegController_a370642148f6c440f43f0c830c385e4bc}} 
void {\bfseries print\+Spatial\+Trajectories} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a1d5b3a6fcece39f3e78957fd0b8fc894}\label{classSingleLegController_a1d5b3a6fcece39f3e78957fd0b8fc894}} 
void {\bfseries print\+Joint\+Trajectories} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a13ac929ae167f7e2310d8cbc5a5dcfd3}\label{classSingleLegController_a13ac929ae167f7e2310d8cbc5a5dcfd3}} 
void {\bfseries print\+Percentage} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a26e0d5ba16c20c675d5316b0018b05b3}\label{classSingleLegController_a26e0d5ba16c20c675d5316b0018b05b3}} 
void {\bfseries print\+All\+States} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a05e369f7eaf16b2d0cab0a1e79984fd2}\label{classSingleLegController_a05e369f7eaf16b2d0cab0a1e79984fd2}} 
void {\bfseries write\+To\+Log} ()
\item 
\mbox{\Hypertarget{classSingleLegController_aefbc17dfe9d125f2cd809fc8f5819614}\label{classSingleLegController_aefbc17dfe9d125f2cd809fc8f5819614}} 
State {\bfseries get\+State} ()
\item 
\mbox{\Hypertarget{classSingleLegController_a59cd7883d1dd470059bfb1c198ab69df}\label{classSingleLegController_a59cd7883d1dd470059bfb1c198ab69df}} 
\mbox{\hyperlink{classSingleLegController_a59cd7883d1dd470059bfb1c198ab69df}{Single\+Leg\+Controller}} (double \+\_\+dt)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a173d75b4ce31036a360ffe231e950314}\label{classSingleLegController_a173d75b4ce31036a360ffe231e950314}} 
virtual \mbox{\hyperlink{classSingleLegController_a173d75b4ce31036a360ffe231e950314}{$\sim$\+Single\+Leg\+Controller}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_ab41ff2679fdffa16cbe6e4b3367d586c}{generalized\+Coordinates\+Callback}} (const sensor\+\_\+msgs\+::\+Joint\+State\+Const\+Ptr \&\+\_\+msg)
\begin{DoxyCompactList}\small\item\em The joint states for the leg is updated. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_acf37c157a2380e81433e3534c3db9d5b}{ready\+To\+Move\+Callback}} (const std\+\_\+msgs\+::\+Bool \&\+\_\+msg)
\begin{DoxyCompactList}\small\item\em The ready\+\_\+to\+\_\+move parameter is changed based on the incomming message. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a0fd3c44c7c51b81724d463745cf2dfd3}\label{classSingleLegController_a0fd3c44c7c51b81724d463745cf2dfd3}} 
void \mbox{\hyperlink{classSingleLegController_a0fd3c44c7c51b81724d463745cf2dfd3}{send\+Joint\+Position\+Command}} ()
\begin{DoxyCompactList}\small\item\em Updates the joint position control commands based on the desired foot position. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_adb30ca3f16089f59e1745cd56ab0fc9b}\label{classSingleLegController_adb30ca3f16089f59e1745cd56ab0fc9b}} 
void \mbox{\hyperlink{classSingleLegController_adb30ca3f16089f59e1745cd56ab0fc9b}{update\+Speed\+Control\+Commands}} ()
\begin{DoxyCompactList}\small\item\em Updates the joint speed control commands based on foot vel references and jacobian. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a2595cf8d383410d9948b0bbcf915d887}\label{classSingleLegController_a2595cf8d383410d9948b0bbcf915d887}} 
void \mbox{\hyperlink{classSingleLegController_a2595cf8d383410d9948b0bbcf915d887}{send\+Speed\+Joint\+Command}} ()
\begin{DoxyCompactList}\small\item\em Populates the joint command message with joint velocity commands and sends it to the Teensy. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_a27c3f76b238e42de5289bc32e9e11639}{set\+Reference\+Parameters}} (double \+\_\+omega\+\_\+x, double \+\_\+omega\+\_\+y, double \+\_\+omega\+\_\+z, double \+\_\+damping\+\_\+x, double \+\_\+damping\+\_\+y, double \+\_\+damping\+\_\+z)
\begin{DoxyCompactList}\small\item\em Set the frequency and damping parameters for the three references. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_a6c8e8a9e024381e4fb81a87871f5236e}{set\+Current\+Reference\+Position}} (double \+\_\+pos\+\_\+x, double \+\_\+pos\+\_\+y, double \+\_\+pos\+\_\+z)
\begin{DoxyCompactList}\small\item\em Set the current value of the references. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_a13abc30cbc9f9c886320e2fdd199fdd3}{set\+Foot\+Goal\+Pos}} (double \+\_\+desired\+\_\+foot\+\_\+pos\+\_\+x, double \+\_\+desired\+\_\+foot\+\_\+pos\+\_\+y, double \+\_\+desired\+\_\+foot\+\_\+pos\+\_\+z)
\begin{DoxyCompactList}\small\item\em Set the foot target velocity. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSingleLegController_ae26e0828c2e33d739f5c34223bd38e77}{move\+Foot\+To\+Position}} (double \+\_\+foot\+\_\+pos\+\_\+x, double \+\_\+foot\+\_\+pos\+\_\+y, double \+\_\+foot\+\_\+pos\+\_\+z)
\begin{DoxyCompactList}\small\item\em The function tries to move the foot to the position given by the input parameters. This is done by calculating the inverse kinematics and giving the motors position references. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_ad1dcb26e9bec916df129a00c2347b35b}\label{classSingleLegController_ad1dcb26e9bec916df129a00c2347b35b}} 
void \mbox{\hyperlink{classSingleLegController_ad1dcb26e9bec916df129a00c2347b35b}{check\+For\+New\+Messages}} ()
\begin{DoxyCompactList}\small\item\em Function used to check if any new R\+OS messages has been received. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classSingleLegController_a82cbc4d3ae647d0929994edf00bba8dc}{init\+R\+OS}} ()
\begin{DoxyCompactList}\small\item\em This is a R\+OS helper function that process messages. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classSingleLegController_a552b1f91454a68856b6cfaef5176d912}{check\+If\+Ready\+To\+Move}} ()
\begin{DoxyCompactList}\small\item\em This function initializes the R\+OS publish and process queue threads. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a16b8b8ad3330fe103fd8dd28edddef5f}\label{classSingleLegController_a16b8b8ad3330fe103fd8dd28edddef5f}} 
void \mbox{\hyperlink{classSingleLegController_a16b8b8ad3330fe103fd8dd28edddef5f}{set\+Not\+Ready\+To\+Move}} ()
\begin{DoxyCompactList}\small\item\em Set the ready\+\_\+to\+\_\+move flag to false. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a2859d90e66dcece04e98dd1abb9cf119}\label{classSingleLegController_a2859d90e66dcece04e98dd1abb9cf119}} 
bool \mbox{\hyperlink{classSingleLegController_a2859d90e66dcece04e98dd1abb9cf119}{check\+If\+Target\+Is\+Reached}} ()
\begin{DoxyCompactList}\small\item\em Check if the target position has been reached. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_ae2d6915c29fbcb40f6ec20dc91229f69}\label{classSingleLegController_ae2d6915c29fbcb40f6ec20dc91229f69}} 
bool \mbox{\hyperlink{classSingleLegController_ae2d6915c29fbcb40f6ec20dc91229f69}{is\+Target\+Position\+Reached}} ()
\begin{DoxyCompactList}\small\item\em Check if the squared error between the current joint angles and target joint angles is smaller than some threshold. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a5570b16ff0f49115a90a9040aab08ebb}\label{classSingleLegController_a5570b16ff0f49115a90a9040aab08ebb}} 
void \mbox{\hyperlink{classSingleLegController_a5570b16ff0f49115a90a9040aab08ebb}{set\+Target\+Position\+To\+Not\+Reached}} ()
\begin{DoxyCompactList}\small\item\em Set the target\+\_\+position\+\_\+reached flag to false. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a743ab70ef506f974a640554cdbcb465c}\label{classSingleLegController_a743ab70ef506f974a640554cdbcb465c}} 
void \mbox{\hyperlink{classSingleLegController_a743ab70ef506f974a640554cdbcb465c}{set\+Joint\+Velocity\+To\+Zero}} ()
\begin{DoxyCompactList}\small\item\em Sends a command to the motors telling them to stand still. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a4c2a164a3a53b500ba2b79b103ae3d2d}\label{classSingleLegController_a4c2a164a3a53b500ba2b79b103ae3d2d}} 
void \mbox{\hyperlink{classSingleLegController_a4c2a164a3a53b500ba2b79b103ae3d2d}{log\+States\+And\+Commands}} ()
\begin{DoxyCompactList}\small\item\em Function that publishes joint states and commands. The messages are stored in seperate ros bags. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classSingleLegController_a3c5b7731737f0f670f24b27910cee88a}\label{classSingleLegController_a3c5b7731737f0f670f24b27910cee88a}} 
void {\bfseries set\+Joint\+Positions} (double \+\_\+theta\+\_\+hy, double \+\_\+theta\+\_\+hp, double \+\_\+theta\+\_\+kp)
\item 
\mbox{\Hypertarget{classSingleLegController_a1bc47827e92a5709ed8cd0dc92a9a2a5}\label{classSingleLegController_a1bc47827e92a5709ed8cd0dc92a9a2a5}} 
void {\bfseries simulator\+Send\+Joint\+Velocity\+Command} ()
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classSingleLegController_a552b1f91454a68856b6cfaef5176d912}\label{classSingleLegController_a552b1f91454a68856b6cfaef5176d912}} 
\index{SingleLegController@{SingleLegController}!checkIfReadyToMove@{checkIfReadyToMove}}
\index{checkIfReadyToMove@{checkIfReadyToMove}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{checkIfReadyToMove()}{checkIfReadyToMove()}}
{\footnotesize\ttfamily bool Single\+Leg\+Controller\+::check\+If\+Ready\+To\+Move (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



This function initializes the R\+OS publish and process queue threads. 

Check whether or not the ready to move message has been received \mbox{\Hypertarget{classSingleLegController_ab41ff2679fdffa16cbe6e4b3367d586c}\label{classSingleLegController_ab41ff2679fdffa16cbe6e4b3367d586c}} 
\index{SingleLegController@{SingleLegController}!generalizedCoordinatesCallback@{generalizedCoordinatesCallback}}
\index{generalizedCoordinatesCallback@{generalizedCoordinatesCallback}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{generalizedCoordinatesCallback()}{generalizedCoordinatesCallback()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::generalized\+Coordinates\+Callback (\begin{DoxyParamCaption}\item[{const sensor\+\_\+msgs\+::\+Joint\+State\+Const\+Ptr \&}]{\+\_\+msg }\end{DoxyParamCaption})}



The joint states for the leg is updated. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+msg} & A float array containing the generalized coordinates ~\newline
 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_adfd046b154a005e93e5463c13f1ed5d6}\label{classSingleLegController_adfd046b154a005e93e5463c13f1ed5d6}} 
\index{SingleLegController@{SingleLegController}!generalizedCoordinatesCallback@{generalizedCoordinatesCallback}}
\index{generalizedCoordinatesCallback@{generalizedCoordinatesCallback}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{generalizedCoordinatesCallback()}{generalizedCoordinatesCallback()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::generalized\+Coordinates\+Callback (\begin{DoxyParamCaption}\item[{const std\+\_\+msgs\+::\+Float64\+Multi\+Array\+Const\+Ptr \&}]{\+\_\+msg }\end{DoxyParamCaption})}



The joint states for the leg is updated. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+msg} & A float array containing the generalized coordinates ~\newline
 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_a82cbc4d3ae647d0929994edf00bba8dc}\label{classSingleLegController_a82cbc4d3ae647d0929994edf00bba8dc}} 
\index{SingleLegController@{SingleLegController}!initROS@{initROS}}
\index{initROS@{initROS}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{initROS()}{initROS()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::init\+R\+OS (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function initilizes R\+OS. 

For logging

For logging\mbox{\Hypertarget{classSingleLegController_a82cbc4d3ae647d0929994edf00bba8dc}\label{classSingleLegController_a82cbc4d3ae647d0929994edf00bba8dc}} 
\index{SingleLegController@{SingleLegController}!initROS@{initROS}}
\index{initROS@{initROS}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{initROS()}{initROS()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::init\+R\+OS (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This is a R\+OS helper function that process messages. 

This is a R\+OS helper function that publish messages.

This function initilizes R\+OS \mbox{\Hypertarget{classSingleLegController_ae26e0828c2e33d739f5c34223bd38e77}\label{classSingleLegController_ae26e0828c2e33d739f5c34223bd38e77}} 
\index{SingleLegController@{SingleLegController}!moveFootToPosition@{moveFootToPosition}}
\index{moveFootToPosition@{moveFootToPosition}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{moveFootToPosition()}{moveFootToPosition()}}
{\footnotesize\ttfamily bool Single\+Leg\+Controller\+::move\+Foot\+To\+Position (\begin{DoxyParamCaption}\item[{double}]{\+\_\+foot\+\_\+pos\+\_\+x,  }\item[{double}]{\+\_\+foot\+\_\+pos\+\_\+y,  }\item[{double}]{\+\_\+foot\+\_\+pos\+\_\+z }\end{DoxyParamCaption})}



The function tries to move the foot to the position given by the input parameters. This is done by calculating the inverse kinematics and giving the motors position references. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+foot\+\_\+pos\+\_\+x} & The target foot x position \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+foot\+\_\+pos\+\_\+y} & The target foot y position \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+foot\+\_\+pos\+\_\+z} & The target foot z position \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_ac4e4f7ee4fa05991e424b242d149afa3}\label{classSingleLegController_ac4e4f7ee4fa05991e424b242d149afa3}} 
\index{SingleLegController@{SingleLegController}!moveJointsToSetpoints@{moveJointsToSetpoints}}
\index{moveJointsToSetpoints@{moveJointsToSetpoints}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{moveJointsToSetpoints()}{moveJointsToSetpoints()}}
{\footnotesize\ttfamily bool Single\+Leg\+Controller\+::move\+Joints\+To\+Setpoints (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



The function tries to move the foot to the position given by the input parameters. This is done by calculating the inverse kinematics and giving the motors position references. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+foot\+\_\+pos\+\_\+x} & The target foot x position \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+foot\+\_\+pos\+\_\+y} & The target foot y position \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+foot\+\_\+pos\+\_\+z} & The target foot z position \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_acf37c157a2380e81433e3534c3db9d5b}\label{classSingleLegController_acf37c157a2380e81433e3534c3db9d5b}} 
\index{SingleLegController@{SingleLegController}!readyToMoveCallback@{readyToMoveCallback}}
\index{readyToMoveCallback@{readyToMoveCallback}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{readyToMoveCallback()}{readyToMoveCallback()}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::ready\+To\+Move\+Callback (\begin{DoxyParamCaption}\item[{const std\+\_\+msgs\+::\+Bool \&}]{\+\_\+msg }\end{DoxyParamCaption})}



The ready\+\_\+to\+\_\+move parameter is changed based on the incomming message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+msg} & A bool message deciding if it is safe to move the leg or not \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_ace838f549ab9d124d02ce4daa07bddf9}\label{classSingleLegController_ace838f549ab9d124d02ce4daa07bddf9}} 
\index{SingleLegController@{SingleLegController}!readyToProceedCallback@{readyToProceedCallback}}
\index{readyToProceedCallback@{readyToProceedCallback}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{readyToProceedCallback()}{readyToProceedCallback()}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::ready\+To\+Proceed\+Callback (\begin{DoxyParamCaption}\item[{const std\+\_\+msgs\+::\+Bool \&}]{\+\_\+msg }\end{DoxyParamCaption})}



The ready\+\_\+to\+\_\+move parameter is changed based on the incomming message. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+msg} & A bool message deciding if it is safe to move the leg or not \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_a6c8e8a9e024381e4fb81a87871f5236e}\label{classSingleLegController_a6c8e8a9e024381e4fb81a87871f5236e}} 
\index{SingleLegController@{SingleLegController}!setCurrentReferencePosition@{setCurrentReferencePosition}}
\index{setCurrentReferencePosition@{setCurrentReferencePosition}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{setCurrentReferencePosition()}{setCurrentReferencePosition()}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::set\+Current\+Reference\+Position (\begin{DoxyParamCaption}\item[{double}]{\+\_\+pos\+\_\+x,  }\item[{double}]{\+\_\+pos\+\_\+y,  }\item[{double}]{\+\_\+pos\+\_\+z }\end{DoxyParamCaption})}



Set the current value of the references. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+pos\+\_\+x} & Set the current x position \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+pos\+\_\+y} & Set the current y position \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+pos\+\_\+z} & Set the current z position \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_a13abc30cbc9f9c886320e2fdd199fdd3}\label{classSingleLegController_a13abc30cbc9f9c886320e2fdd199fdd3}} 
\index{SingleLegController@{SingleLegController}!setFootGoalPos@{setFootGoalPos}}
\index{setFootGoalPos@{setFootGoalPos}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{setFootGoalPos()}{setFootGoalPos()}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::set\+Foot\+Goal\+Pos (\begin{DoxyParamCaption}\item[{double}]{\+\_\+desired\+\_\+foot\+\_\+pos\+\_\+x,  }\item[{double}]{\+\_\+desired\+\_\+foot\+\_\+pos\+\_\+y,  }\item[{double}]{\+\_\+desired\+\_\+foot\+\_\+pos\+\_\+z }\end{DoxyParamCaption})}



Set the foot target velocity. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+desired\+\_\+foot\+\_\+vel\+\_\+x} & The desired foot speed in the x direction \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+desired\+\_\+foot\+\_\+vel\+\_\+y} & The desired foot speed in the y direction \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+desired\+\_\+foot\+\_\+vel\+\_\+z} & The desired foot speed in the z direction \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classSingleLegController_a27c3f76b238e42de5289bc32e9e11639}\label{classSingleLegController_a27c3f76b238e42de5289bc32e9e11639}} 
\index{SingleLegController@{SingleLegController}!setReferenceParameters@{setReferenceParameters}}
\index{setReferenceParameters@{setReferenceParameters}!SingleLegController@{SingleLegController}}
\doxysubsubsection{\texorpdfstring{setReferenceParameters()}{setReferenceParameters()}}
{\footnotesize\ttfamily void Single\+Leg\+Controller\+::set\+Reference\+Parameters (\begin{DoxyParamCaption}\item[{double}]{\+\_\+omega\+\_\+x,  }\item[{double}]{\+\_\+omega\+\_\+y,  }\item[{double}]{\+\_\+omega\+\_\+z,  }\item[{double}]{\+\_\+damping\+\_\+x,  }\item[{double}]{\+\_\+damping\+\_\+y,  }\item[{double}]{\+\_\+damping\+\_\+z }\end{DoxyParamCaption})}



Set the frequency and damping parameters for the three references. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em \+\_\+omega\+\_\+x} & Frequency of x reference \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+omega\+\_\+y} & Frequency of y reference \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+omega\+\_\+z} & Frequency of z reference \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+damping\+\_\+x} & Damping of x reference \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+damping\+\_\+y} & Damping of y reference \\
\hline
\mbox{\texttt{ in}}  & {\em \+\_\+damping\+\_\+z} & Damping of z reference \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
catkin\+\_\+ws/src/control/single\+\_\+leg\+\_\+controller/include/single\+\_\+leg\+\_\+controller/single\+\_\+leg\+\_\+controller.\+h\item 
catkin\+\_\+ws/src/control/single\+\_\+leg\+\_\+controller\+\_\+test/include/single\+\_\+leg\+\_\+controller\+\_\+test/single\+\_\+leg\+\_\+controller\+\_\+test.\+h\item 
catkin\+\_\+ws/src/control/single\+\_\+leg\+\_\+controller/src/single\+\_\+leg\+\_\+controller.\+cpp\item 
catkin\+\_\+ws/src/control/single\+\_\+leg\+\_\+controller\+\_\+test/src/single\+\_\+leg\+\_\+controller\+\_\+test.\+cpp\end{DoxyCompactItemize}
