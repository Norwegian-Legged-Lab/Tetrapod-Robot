<?xml version="1.0"?>

<!--
Base to shoulder yaw:
dX = 151
dY = 151

Shoulder yaw to shoulder pitch:
dX = r1 = 130mm

Shoulder pitch to knee pitch:
dX = r2 = 220mm

Knee pitch to foot:
dX = r3 = 279mm (joint to foot center)
dX = 281mm (joint to tip)

-->

<!--Parameters
x_0 = 0.151
y_0 = 0.151
z_0 = 0.0


-->

<sdf version='1.7'>
    <model name="tetrapod">
        <pose>0 0 1 0 0 0</pose>
        <static>false</static>

        <link name="body">
            <pose>0 0 0 0 0 0</pose>

            <inertial>
                <pose>0 0 0 0 0 0</pose>
                <mass>10.1</mass>
                <inertia>
                <ixx>0.141436</ixx>
                <ixy>0</ixy>
                <ixz>0</ixz>
                <iyy>0.143077</iyy>
                <iyz>0.0</iyz>
                <izz>0.253934</izz>
                </inertia>
            </inertial>

            <visual name="body_visual">
                <pose>0 0 0 3.1415 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/body.STL</uri>
                    </mesh>  
                </geometry>
            </visual>
            <!--
            <visual name="face">
                <pose>0.18 0 0 0 0 0</pose>
                <geometry>
                    <box>
                        <size>0.001 0.2 0.2</size>
                    </box>
                </geometry>
                <material>
                    <script>
                        <uri>model://materials/scripts</uri>
                        <uri>model://materials/textures</uri>
                        <name>Face</name>
                    </script>
                </material>
            </visual>
            -->
            <visual name="eye_left">
                <pose>0.18 0.05 0.04 0 0 1.57</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/eye.dae</uri>
                    </mesh>  
                </geometry>
            </visual>
            <visual name="eye_right">
                <pose>0.18 -0.05 0.04 0 0 1.57</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/eye.dae</uri>
                    </mesh>  
                </geometry>
            </visual> 
            <collision name="body_collision">
                <geometry>
                    <box>
                        <size>0.4 0.4 0.09</size>
                    </box>
                </geometry>
            </collision>
        </link>


<!-- front left leg -->

        <link name="front_left_hip">
            <!-- let the pose of the link coincide with the joint position -->
            <!--
                x = x_0
                y = y_0
                z = z_0
                r = 0
                p = 0
                y = 0
            -->
            <pose>0.151 0.151 0 0 0 0</pose>

            <inertial>
                <!-- Position of front_left_hip CoM relative to joint position. Obtained from Solidworks-->
                <pose>0.103 -0.071 0.0045 0 0 0</pose>
                <mass>1.179</mass>
                <inertia>
                <ixx>0.002988</ixx>
                <ixy>-0.001845</ixy>
                <ixz>-0.000064</ixz>
                <iyy>0.003332</iyy>
                <iyz>0.000037</iyz>
                <izz>0.004664</izz>
                </inertia>
            </inertial>

            <visual name="front_left_hip_visual">
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/shoulder_left.STL</uri>
                    </mesh>  
                </geometry>
            </visual>

        </link>

        <joint name="front_left_hip_yaw" type="revolute">
            <!-- Use zero as joint and link position coincide-->
            <pose>0 0 0 0 0 0</pose> 

            <child>front_left_hip</child>
            <parent>body</parent>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>0</lower>
                    <upper>3.14</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="front_left_upper_leg">
            <!-- Let the pose of the link coincide with the hip pitch joint position -->
            <!--
                x = x_0 + r1
                y = y_0
                z = z_0 + d1
                r = -1.5708 (rotate the leg)
                p = 0
                y = 0
            -->
            <pose>0.281 0.151 0 -1.5708 0 0</pose>

            <collision name="front_left_upper_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.110 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.220</length>
                    </cylinder>
                </geometry>
            </collision>
            <visual name="front_left_upper_leg">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_upper.STL</uri>
                    </mesh>                    
                </geometry>
            </visual>
            <inertial>
                <!-- Position of upper_leg CoM relative to hip pitch joint position. Obtained from Solidworks-->
                <pose>0.02570 0 -0.02870 0 0 0</pose>
                <mass>1.39420</mass>
                <inertia>
                    <ixx>0.00174</ixx>
                    <ixy>0</ixy>
                    <ixz>0.00108</ixz>
                    <iyy>0.00660</iyy>
                    <iyz>0</iyz>
                    <izz>0.00644</izz>
                </inertia>
            </inertial>
        </link>

        <joint name="front_left_hip_pitch" type="revolute">
            <parent>front_left_hip</parent>
            <child>front_left_upper_leg</child>
            <!-- Use zero as joint and link position coincide-->
            <pose frame="front_left_hip">0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="front_left_lower_leg">
            <!-- Let the pose of the link coincide with the knee pitch joint position -->
            <!--
                x = x_0 + r1 + r2
                y = y_0
                z = z_0 + d1
                r = -1.5708
                p = 0
                y = 0
            -->
            <pose>0.501 0.151 0 -1.5708 0 0</pose>
            <visual name="front_left_lower_leg_visual">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_lower.STL</uri>
                    </mesh>
                </geometry>
            </visual>

            <inertial>
                <!-- Position of lower_leg CoM relative to knee pitch joint position. Obtained from Solidworks-->
                <pose>0.10688699 0.00127229 0.00105520 0 0 0</pose>
                <mass>0.28302792</mass>
                <inertia>
                    <ixx>0.00006651</ixx>
                    <ixy>0.00004913</ixy>
                    <ixz>0.00000614</ixz>
                    <iyy>0.00317406</iyy>
                    <iyz>0</iyz>
                    <izz>0.00318967</izz>
                </inertia>
            </inertial>

            <collision name="front_left_lower_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.1405 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.281</length>
                    </cylinder>
                </geometry>
            </collision>

            <collision name="front_left_knee_collision">
                <geometry>
                    <cylinder>
                        <radius>0.035</radius>
                        <length>0.06</length>
                    </cylinder>
                </geometry>
            </collision>

            <collision name="front_left_foot_collision">
                <pose>0.279 0 0 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.0201</radius>
                    </sphere>
                </geometry>
                <surface>
                    <friction>
                        <ode>
                            <mu>1.0</mu>
                            <mu2>1.0</mu2>
                        </ode>
                    </friction>
                    <contact>
                        <ode>
                            <min_depth>0.001</min_depth>
                        </ode>
                    </contact>
                </surface>
            </collision>

            <sensor name="front_left_contact_sensor" type="contact">
                <!-- <plugin name="contact_plugin" filename="libcontact_plugin.so" /> -->
                <contact>
                    <collision>front_left_foot_collision</collision>
                </contact>
                <update_rate>200</update_rate>
            </sensor>
        </link>

        <joint name="front_left_knee_joint" type="revolute">
            <parent>front_left_upper_leg</parent>
            <child>front_left_lower_leg</child>
            <pose>0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis> 
        </joint>

<!-- FRONT RIGHT LEG -->

        <link name="front_right_hip">
            <!-- Let the pose of the link coincide with the joint position -->
            <!--
                x = x_0
                y = -y_0
                z = z_0
                r = 0
                p = 0
                y = 0
            -->
            <pose>0.151 -0.151 0 0 0 0</pose>

            <inertial>
                <!-- Position of front_right_hip CoM relative to joint position. Obtained from Solidworks-->
                <pose>0.103 0.071 0.0045 0 0 0</pose>
                <mass>1.179</mass>
                <inertia>
                <ixx>0.002988</ixx>
                <ixy>0.001845</ixy>
                <ixz>-0.000064</ixz>
                <iyy>0.003332</iyy>
                <iyz>-0.000037</iyz>
                <izz>0.004664</izz>
                </inertia>
            </inertial>

            <visual name="front_right_hip_visual">
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/shoulder_right.STL</uri>
                    </mesh>  
                </geometry>
            </visual>

        </link>

        <joint name="front_right_hip_yaw" type="revolute">
            <!-- Use zero as joint and link position coincide-->
            <pose>0 0 0 0 0 0</pose> 

            <child>front_right_hip</child>
            <parent>body</parent>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.14</lower>
                    <upper>0.0</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="front_right_upper_leg">
            <!-- Let the pose of the link coincide with the hip pitch joint position -->
            <!--
                x = x_0 + r1
                y = -y_0
                z = z_0 + d1
                r = 1.5708 (rotate the leg)
                p = 0
                y = 0
            -->
            <pose>0.281 -0.151 0 1.5708 0 0</pose>

            <collision name="front_right_upper_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.110 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.220</length>
                    </cylinder>
                </geometry>
            </collision>
            <visual name="front_right_upper_leg">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_upper.STL</uri>
                    </mesh>                    
                </geometry>
            </visual>
            <inertial>
                <!-- Position of upper_leg CoM relative to hip pitch joint position. Obtained from Solidworks-->
                <pose>0.02570 0 -0.02870 0 0 0</pose>
                <mass>1.39420</mass>
                <inertia>
                    <ixx>0.00174</ixx>
                    <ixy>0</ixy>
                    <ixz>0.00108</ixz>
                    <iyy>0.00660</iyy>
                    <iyz>0</iyz>
                    <izz>0.00644</izz>
                </inertia>
            </inertial>
        </link>

        <joint name="front_right_hip_pitch" type="revolute">
            <parent>front_right_hip</parent>
            <child>front_right_upper_leg</child>
            <!-- Use zero as joint and link position coincide-->
            <pose frame="front_right_hip">0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="front_right_lower_leg">
            <!-- Let the pose of the link coincide with the knee pitch joint position -->
            <!--
                x = x_0 + r1 + r2
                y = -y_0
                z = z_0 + d1
                r = 1.5708
                p = 0
                y = 0
            -->
            <pose>0.501 -0.151 0 1.5708 0 0</pose>

            <visual name="front_right_lower_leg_visual">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_lower.STL</uri>
                    </mesh>
                </geometry>
            </visual>

            <inertial>
                <!-- Position of lower_leg CoM relative to knee pitch joint position. Obtained from Solidworks-->
                <pose>0.10688699 0.00127229 0.00105520 0 0 0</pose>
                <mass>0.28302792</mass>
                <inertia>
                    <ixx>0.00006651</ixx>
                    <ixy>0.00004913</ixy>
                    <ixz>0.00000614</ixz>
                    <iyy>0.00317406</iyy>
                    <iyz>0</iyz>
                    <izz>0.00318967</izz>
                </inertia>
            </inertial>

            <collision name="front_right_lower_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.1405 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.281</length>
                    </cylinder>
                </geometry>
            </collision>
            <collision name="front_right_knee_collision">
                <geometry>
                    <cylinder>
                        <radius>0.035</radius>
                        <length>0.06</length>
                    </cylinder>
                </geometry>
            </collision>

            <collision name="front_right_foot_collision">
                <pose>0.279 0 0 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.0201</radius>
                    </sphere>
                </geometry>
                <surface>
                    <friction>
                        <ode>
                            <mu>1.0</mu>
                            <mu2>1.0</mu2>
                        </ode>
                    </friction>
                    <contact>
                        <ode>
                            <min_depth>0.001</min_depth>
                        </ode>
                    </contact>
                </surface>
            </collision>

            <sensor name="front_right_contact_sensor" type="contact">
                <!-- <plugin name="contact_plugin" filename="libcontact_plugin.so" /> -->
                <contact>
                    <collision>front_right_foot_collision</collision>
                </contact>
                <update_rate>200</update_rate>
            </sensor>

        </link>

        <joint name="front_right_knee_joint" type="revolute">
            <parent>front_right_upper_leg</parent>
            <child>front_right_lower_leg</child>
            <pose>0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis> 
        </joint>

<!-- REAR LEFT LEG -->

        <link name="rear_left_hip">
            <!-- Let the pose of the link coincide with the joint position -->
            <!--
                x = -x_0
                y = y_0
                z = z_0
                r = 0
                p = 0
                y = 0
            -->
            <pose>-0.151 0.151 0 0 0 0</pose>

            <inertial>
                <!-- Position of rear_left_hip CoM relative to joint position. Obtained from Solidworks-->
                <pose>0.103 0.071 0.0045 0 0 0</pose>
                <mass>1.179</mass>
                <inertia>
                <ixx>0.002988</ixx>
                <ixy>0.001845</ixy>
                <ixz>-0.000064</ixz>
                <iyy>0.003332</iyy>
                <iyz>-0.000037</iyz>
                <izz>0.004664</izz>
                </inertia>
            </inertial>

            <visual name="rear_left_hip_visual">
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/shoulder_right.STL</uri>
                    </mesh>  
                </geometry>
            </visual>

        </link>

        <joint name="rear_left_hip_yaw" type="revolute">
            <!-- Use zero as joint and link position coincide-->
            <pose>0 0 0 0 0 0</pose> 

            <child>rear_left_hip</child>
            <parent>body</parent>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>0</lower>
                    <upper>3.14</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="rear_left_upper_leg">
            <!-- Let the pose of the link coincide with the hip pitch joint position -->
            <!--
                x = -x_0 + r1
                y = y_0
                z = z_0 + d1
                r = 1.5708 (rotate the leg)
                p = 0
                y = 0
            -->
            <pose>-0.021 0.151 0 1.5708 0 0</pose>

            <collision name="rear_left_upper_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.110 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.220</length>
                    </cylinder>
                </geometry>
            </collision>
            <visual name="rear_left_upper_leg">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_upper.STL</uri>
                    </mesh>                    
                </geometry>
            </visual>
            <inertial>
                <!-- Position of upper_leg CoM relative to hip pitch joint position. Obtained from Solidworks-->
                <pose>0.02570 0 -0.02870 0 0 0</pose>
                <mass>1.39420</mass>
                <inertia>
                    <ixx>0.00174</ixx>
                    <ixy>0</ixy>
                    <ixz>0.00108</ixz>
                    <iyy>0.00660</iyy>
                    <iyz>0</iyz>
                    <izz>0.00644</izz>
                </inertia>
            </inertial>
        </link>

        <joint name="rear_left_hip_pitch" type="revolute">
            <parent>rear_left_hip</parent>
            <child>rear_left_upper_leg</child>
            <!-- Use zero as joint and link position coincide-->
            <pose frame="rear_left_hip">0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="rear_left_lower_leg">
            <!-- Let the pose of the link coincide with the knee pitch joint position -->
            <!--
                x = -x_0 + r1 + r2
                y = y_0
                z = z_0 + d1
                r = 1.5708
                p = 0
                y = 0
            -->
            <pose>0.199 0.151 0 1.5708 0 0</pose>
            <visual name="rear_left_lower_leg_visual">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_lower.STL</uri>
                    </mesh>
                </geometry>
            </visual>
            <collision name="rear_left_lower_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.1405 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.281</length>
                    </cylinder>
                </geometry>
            </collision>
            <collision name="rear_left_knee_collision">
                <geometry>
                    <cylinder>
                        <radius>0.035</radius>
                        <length>0.06</length>
                    </cylinder>
                </geometry>
            </collision>
            <inertial>
                <!-- Position of lower_leg CoM relative to knee pitch joint position. Obtained from Solidworks-->
                <pose>0.10688699 0.00127229 0.00105520 0 0 0</pose>
                <mass>0.28302792</mass>
                <inertia>
                    <ixx>0.00006651</ixx>
                    <ixy>0.00004913</ixy>
                    <ixz>0.00000614</ixz>
                    <iyy>0.00317406</iyy>
                    <iyz>0</iyz>
                    <izz>0.00318967</izz>
                </inertia>
            </inertial>

            <collision name="rear_left_foot_collision">
                <pose>0.279 0 0 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.0201</radius>
                    </sphere>
                </geometry>
                <surface>
                    <friction>
                        <ode>
                            <mu>1.0</mu>
                            <mu2>1.0</mu2>
                        </ode>
                    </friction>
                    <contact>
                        <ode>
                            <min_depth>0.001</min_depth>
                        </ode>
                    </contact>
                </surface>
            </collision>

            <sensor name="rear_left_contact_sensor" type="contact">
                <!-- <plugin name="contact_plugin" filename="libcontact_plugin.so" /> -->
                <contact>
                    <collision>rear_left_foot_collision</collision>
                </contact>
                <update_rate>200</update_rate>
            </sensor>

        </link>

        <joint name="rear_left_knee_joint" type="revolute">
            <parent>rear_left_upper_leg</parent>
            <child>rear_left_lower_leg</child>
            <pose>0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis> 
        </joint>



<!-- REAR RIGHT LEG -->

        <link name="rear_right_hip">
            <!-- Let the pose of the link coincide with the joint position -->
            <!--
                x = -x_0
                y = -y_0
                z = z_0
                r = 0
                p = 0
                y = 0
            -->
            <pose>-0.151 -0.151 0 0 0 0</pose>

            <inertial>
                <!-- Position of rear_right_hip CoM relative to joint position. Obtained from Solidworks-->
                <pose>0.103 -0.071 0.0045 0 0 0</pose>
                <mass>1.179</mass>
                <inertia>
                <ixx>0.002988</ixx>
                <ixy>-0.001845</ixy>
                <ixz>-0.000064</ixz>
                <iyy>0.003332</iyy>
                <iyz>0.000037</iyz>
                <izz>0.004664</izz>
                </inertia>
            </inertial>

            <visual name="rear_right_hip_visual">
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/shoulder_left.STL</uri>
                    </mesh>  
                </geometry>
            </visual>
        </link>

        <joint name="rear_right_hip_yaw" type="revolute">
            <!-- Use zero as joint and link position coincide-->
            <pose>0 0 0 0 0 0</pose> 

            <child>rear_right_hip</child>
            <parent>body</parent>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-3.14</lower>
                    <upper>0.0</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="rear_right_upper_leg">
            <!-- Let the pose of the link coincide with the hip pitch joint position -->
            <!--
                x = -x_0 + r1
                y = -y_0
                z = z_0 + d1
                r = -1.5708 (rotate the leg)
                p = 0
                y = 0
            -->
            <pose>-0.021 -0.151 0 -1.5708 0 0</pose>

            <collision name="rear_right_upper_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.110 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.220</length>
                    </cylinder>
                </geometry>
            </collision>
            <visual name="rear_right_upper_leg">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_upper.STL</uri>
                    </mesh>                    
                </geometry>
            </visual>
            <inertial>
                <!-- Position of upper_leg CoM relative to hip pitch joint position. Obtained from Solidworks-->
                <pose>0.02570 0 -0.02870 0 0 0</pose>
                <mass>1.39420</mass>
                <inertia>
                    <ixx>0.00174</ixx>
                    <ixy>0</ixy>
                    <ixz>0.00108</ixz>
                    <iyy>0.00660</iyy>
                    <iyz>0</iyz>
                    <izz>0.00644</izz>
                </inertia>
            </inertial>
        </link>

        <joint name="rear_right_hip_pitch" type="revolute">
            <parent>rear_right_hip</parent>
            <child>rear_right_upper_leg</child>
            <!-- Use zero as joint and link position coincide-->
            <pose frame="rear_right_hip">0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis>
        </joint>

        <link name="rear_right_lower_leg">
            <!-- Let the pose of the link coincide with the knee pitch joint position -->
            <!--
                x = -x_0 + r1 + r2
                y = y_0
                z = z_0 + d1
                r = 1.5708
                p = 0
                y = 0
            -->
            <pose>0.199 -0.151 0 -1.5708 0 0</pose>

            <visual name="rear_right_lower_leg_visual">
                <pose>0 0 0 0 0 0</pose>
                <geometry>
                    <mesh>
                        <uri>model://tetrapod_description/meshes/leg_lower.STL</uri>
                    </mesh>
                </geometry>
            </visual>

            <inertial>
                <!-- Position of lower_leg CoM relative to knee pitch joint position. Obtained from Solidworks-->
                <pose>0.10688699 0.00127229 0.00105520 0 0 0</pose>
                <mass>0.28302792</mass>
                <inertia>
                    <ixx>0.00006651</ixx>
                    <ixy>0.00004913</ixy>
                    <ixz>0.00000614</ixz>
                    <iyy>0.00317406</iyy>
                    <iyz>0</iyz>
                    <izz>0.00318967</izz>
                </inertia>
            </inertial>

            <collision name="rear_right_lower_leg_collision">
                <!-- Add pose for collision-->
                <pose>0.1405 0 0 0 1.5708 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.008</radius>
                        <length>0.281</length>
                    </cylinder>
                </geometry>
            </collision>
            <collision name="rear_right_knee_collision">
                <geometry>
                    <cylinder>
                        <radius>0.035</radius>
                        <length>0.06</length>
                    </cylinder>
                </geometry>
            </collision>

            <collision name="rear_right_foot_collision">
                <pose>0.279 0 0 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.0201</radius>
                    </sphere>
                </geometry>
                <surface>
                    <friction>
                        <ode>
                            <mu>1.0</mu>
                            <mu2>1.0</mu2>
                        </ode>
                    </friction>
                    <contact>
                        <ode>
                            <min_depth>0.001</min_depth>
                        </ode>
                    </contact>
                </surface>
            </collision>

            <sensor name="rear_right_contact_sensor" type="contact">
                <!-- <plugin name="contact_plugin" filename="libcontact_plugin.so" /> -->
                <contact>
                    <collision>rear_right_foot_collision</collision>
                </contact>
                <update_rate>200</update_rate>
            </sensor>

        </link>

        <joint name="rear_right_knee_joint" type="revolute">
            <parent>rear_right_upper_leg</parent>
            <child>rear_right_lower_leg</child>
            <pose>0 0 0 0 0 0</pose>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
                    <lower>-2.5</lower>
                    <upper>2.5</upper>
                    <effort>40</effort>
                    <velocity>1000</velocity>
                </limit>
            </axis> 
        </joint>

    </model>
</sdf>
